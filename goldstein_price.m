function [value, gradient_q, hessian_q] = goldstein_price(x)
% input: [x; y] output: value gradient hessian
value = (1 + (x(1) + x(2) +1)^2*(19 - 14*x(1) + 3*x(1)^2 - 14*x(2) + 6*x(1)*x(2) + 3*x(2)^2))*(30 + (2*x(1) - 3*x(2))^2*(18 - 32*x(1) + 12*x(1)^2 + 48*x(2) - 36*x(1)*x(2) + 27*x(2)^2));

if nargout >= 2 % need return gradient
    gradient_q = [(((6*x(1) + 6*x(2) - 14)*(x(1) + x(2) + 1)^2 + (2*x(1) + 2*x(2) + 2)*(3*x(1)^2 + 6*x(1)*x(2) - 14*x(1) + 3*x(2)^2 - 14*x(2) + 19))*((2*x(1) - 3*x(2))^2*(12*x(1)^2 - 36*x(1)*x(2) - 32*x(1) + 27*x(2)^2 + 48*x(2) + 18) + 30) + ((x(1) + x(2) + 1)^2*(3*x(1)^2 + 6*x(1)*x(2) - 14*x(1) + 3*x(2)^2 - 14*x(2) + 19) + 1)*((8*x(1) - 12*x(2))*(12*x(1)^2 - 36*x(1)*x(2) - 32*x(1) + 27*x(2)^2 + 48*x(2) + 18) - (2*x(1) - 3*x(2))^2*(36*x(2) - 24*x(1) + 32)));
                  (((6*x(1) + 6*x(2) - 14)*(x(1) + x(2) + 1)^2 + (2*x(1) + 2*x(2) + 2)*(3*x(1)^2 + 6*x(1)*x(2) - 14*x(1) + 3*x(2)^2 - 14*x(2) + 19))*((2*x(1) - 3*x(2))^2*(12*x(1)^2 - 36*x(1)*x(2) - 32*x(1) + 27*x(2)^2 + 48*x(2) + 18) + 30) - ((x(1) + x(2) + 1)^2*(3*x(1)^2 + 6*x(1)*x(2) - 14*x(1) + 3*x(2)^2 - 14*x(2) + 19) + 1)*((12*x(1) - 18*x(2))*(12*x(1)^2 - 36*x(1)*x(2) - 32*x(1) + 27*x(2)^2 + 48*x(2) + 18) - (2*x(1) - 3*x(2))^2*(54*x(2) - 36*x(1) + 48)))];
    
    if nargout >= 3 % need return hessian matrix(1)
        hessian_q = [(2*((8*x(1) - 12*x(2))*(12*x(1)^2 - 36*x(1)*x(2) - 32*x(1) + 27*x(2)^2 + 48*x(2) + 18) - (2*x(1) - 3*x(2))^2*(36*x(2) - 24*x(1) + 32))*((6*x(1) + 6*x(2) - 14)*(x(1) + x(2) + 1)^2 + (2*x(1) + 2*x(2) + 2)*(3*x(1)^2 + 6*x(1)*x(2) - 14*x(1) + 3*x(2)^2 - 14*x(2) + 19)) + ((2*x(1) - 3*x(2))^2*(12*x(1)^2 - 36*x(1)*x(2) - 32*x(1) + 27*x(2)^2 + 48*x(2) + 18) + 30)*(12*x(1)*x(2) - 28*x(2) - 28*x(1) + 2*(2*x(1) + 2*x(2) + 2)*(6*x(1) + 6*x(2) - 14) + 6*(x(1) + x(2) + 1)^2 + 6*x(1)^2 + 6*x(2)^2 + 38) + ((x(1) + x(2) + 1)^2*(3*x(1)^2 + 6*x(1)*x(2) - 14*x(1) + 3*x(2)^2 - 14*x(2) + 19) + 1)*(384*x(2) - 256*x(1) - 288*x(1)*x(2) + 24*(2*x(1) - 3*x(2))^2 - 2*(8*x(1) - 12*x(2))*(36*x(2) - 24*x(1) + 32) + 96*x(1)^2 + 216*x(2)^2 + 144)), (((8*x(1) - 12*x(2))*(12*x(1)^2 - 36*x(1)*x(2) - 32*x(1) + 27*x(2)^2 + 48*x(2) + 18) - (2*x(1) - 3*x(2))^2*(36*x(2) - 24*x(1) + 32))*((6*x(1) + 6*x(2) - 14)*(x(1) + x(2) + 1)^2 + (2*x(1) + 2*x(2) + 2)*(3*x(1)^2 + 6*x(1)*x(2) - 14*x(1) + 3*x(2)^2 - 14*x(2) + 19)) - ((x(1) + x(2) + 1)^2*(3*x(1)^2 + 6*x(1)*x(2) - 14*x(1) + 3*x(2)^2 - 14*x(2) + 19) + 1)*(576*x(2) - 384*x(1) - 432*x(1)*x(2) + 36*(2*x(1) - 3*x(2))^2 - (12*x(1) - 18*x(2))*(36*x(2) - 24*x(1) + 32) - (8*x(1) - 12*x(2))*(54*x(2) - 36*x(1) + 48) + 144*x(1)^2 + 324*x(2)^2 + 216) - ((12*x(1) - 18*x(2))*(12*x(1)^2 - 36*x(1)*x(2) - 32*x(1) + 27*x(2)^2 + 48*x(2) + 18) - (2*x(1) - 3*x(2))^2*(54*x(2) - 36*x(1) + 48))*((6*x(1) + 6*x(2) - 14)*(x(1) + x(2) + 1)^2 + (2*x(1) + 2*x(2) + 2)*(3*x(1)^2 + 6*x(1)*x(2) - 14*x(1) + 3*x(2)^2 - 14*x(2) + 19)) + ((2*x(1) - 3*x(2))^2*(12*x(1)^2 - 36*x(1)*x(2) - 32*x(1) + 27*x(2)^2 + 48*x(2) + 18) + 30)*(12*x(1)*x(2) - 28*x(2) - 28*x(1) + 2*(2*x(1) + 2*x(2) + 2)*(6*x(1) + 6*x(2) - 14) + 6*(x(1) + x(2) + 1)^2 + 6*x(1)^2 + 6*x(2)^2 + 38));
                     (((8*x(1) - 12*x(2))*(12*x(1)^2 - 36*x(1)*x(2) - 32*x(1) + 27*x(2)^2 + 48*x(2) + 18) - (2*x(1) - 3*x(2))^2*(36*x(2) - 24*x(1) + 32))*((6*x(1) + 6*x(2) - 14)*(x(1) + x(2) + 1)^2 + (2*x(1) + 2*x(2) + 2)*(3*x(1)^2 + 6*x(1)*x(2) - 14*x(1) + 3*x(2)^2 - 14*x(2) + 19)) - ((x(1) + x(2) + 1)^2*(3*x(1)^2 + 6*x(1)*x(2) - 14*x(1) + 3*x(2)^2 - 14*x(2) + 19) + 1)*(576*x(2) - 384*x(1) - 432*x(1)*x(2) + 36*(2*x(1) - 3*x(2))^2 - (12*x(1) - 18*x(2))*(36*x(2) - 24*x(1) + 32) - (8*x(1) - 12*x(2))*(54*x(2) - 36*x(1) + 48) + 144*x(1)^2 + 324*x(2)^2 + 216) - ((12*x(1) - 18*x(2))*(12*x(1)^2 - 36*x(1)*x(2) - 32*x(1) + 27*x(2)^2 + 48*x(2) + 18) - (2*x(1) - 3*x(2))^2*(54*x(2) - 36*x(1) + 48))*((6*x(1) + 6*x(2) - 14)*(x(1) + x(2) + 1)^2 + (2*x(1) + 2*x(2) + 2)*(3*x(1)^2 + 6*x(1)*x(2) - 14*x(1) + 3*x(2)^2 - 14*x(2) + 19)) + ((2*x(1) - 3*x(2))^2*(12*x(1)^2 - 36*x(1)*x(2) - 32*x(1) + 27*x(2)^2 + 48*x(2) + 18) + 30)*(12*x(1)*x(2) - 28*x(2) - 28*x(1) + 2*(2*x(1) + 2*x(2) + 2)*(6*x(1) + 6*x(2) - 14) + 6*(x(1) + x(2) + 1)^2 + 6*x(1)^2 + 6*x(2)^2 + 38)), (((2*x(1) - 3*x(2))^2*(12*x(1)^2 - 36*x(1)*x(2) - 32*x(1) + 27*x(2)^2 + 48*x(2) + 18) + 30)*(12*x(1)*x(2) - 28*x(2) - 28*x(1) + 2*(2*x(1) + 2*x(2) + 2)*(6*x(1) + 6*x(2) - 14) + 6*(x(1) + x(2) + 1)^2 + 6*x(1)^2 + 6*x(2)^2 + 38) - 2*((12*x(1) - 18*x(2))*(12*x(1)^2 - 36*x(1)*x(2) - 32*x(1) + 27*x(2)^2 + 48*x(2) + 18) - (2*x(1) - 3*x(2))^2*(54*x(2) - 36*x(1) + 48))*((6*x(1) + 6*x(2) - 14)*(x(1) + x(2) + 1)^2 + (2*x(1) + 2*x(2) + 2)*(3*x(1)^2 + 6*x(1)*x(2) - 14*x(1) + 3*x(2)^2 - 14*x(2) + 19)) + ((x(1) + x(2) + 1)^2*(3*x(1)^2 + 6*x(1)*x(2) - 14*x(1) + 3*x(2)^2 - 14*x(2) + 19) + 1)*(864*x(2) - 576*x(1) - 648*x(1)*x(2) + 54*(2*x(1) - 3*x(2))^2 - 2*(12*x(1) - 18*x(2))*(54*x(2) - 36*x(1) + 48) + 216*x(1)^2 + 486*x(2)^2 + 324))];
    end


end